# The Blueprint: Ultra-MVP (v0.1) 기능 명세서

**문서 목적:** 4주간의 'Ultra-MVP' 개발 범위를 명확히 확정한다. 모든 기능은 '12주 검증 지표' 달성을 위해서만 존재하며, 이 문서에 없는 기능은 **v0.1에서 절대 구현하지 않는다.**

**버전:** v0.1 (2025-11-17)

**핵심 원칙:**

- **Done is better than perfect.** (완벽함보다 완성이 우선이다.)
- **이 문서는 '닫힌 목록(Closed List)'이다.** (개발 중 떠오르는 아이디어는 '문서 3: 백로그'에 기록하고, 이 문서를 수정하지 않는다.)

---

### 1. In-Scope: v0.1 필수 구현 기능

### G-0: 공통 및 기반 (Foundation)

- [ ]  **G-0.1: 프로젝트 셋업**
    - `React Native (Expo)`로 프로젝트 생성
    - `Firebase` 프로젝트 셋업 (Auth, Firestore)
- [ ]  **G-0.2: 네비게이션 (Navigation)**
    - `React Navigation` 셋업
    - **바텀 탭 네비게이터 (3 Tabs):** [홈(카페 리스트)], [리뷰 쓰기], [마이페이지]
    - **스택 네비게이터:** (탭 내부 이동용: 리스트 → 상세, 마이페이지 → 리뷰 수정 등)
- [ ]  **G-0.3: 인증 (Authentication)**
    - `Firebase Authentication` 연동
    - **소셜 로그인:** [Google], [Apple] (이메일/비밀번호 로그인은 구현하지 않음 - 속도 저하)
    - 로그인 상태 전역 관리 (Context API 또는 Zustand/Recoil)
- [ ]  **G-0.4: 초기 온보딩 (Onboarding)**
    - 앱 최초 1회 실행 시, 앱의 가치를 소개하는 3페이지 분량의 스와이프 화면 (`react-native-swiper`)
- [ ]  **G-0.5: 상태 처리 (State Handling)**
    - 데이터 로딩 시: 간단한 `ActivityIndicator` 표시
    - 데이터 없을 시 (ex. 리뷰 0개): "첫 리뷰를 작성해보세요" 등 간단한 텍스트 표시

### F-1: 카페 리스트 및 상세 (Discovery)

- [ ]  **F-1.1: 카페 리스트 스크린 (홈 탭)**
    - `Firestore` `cafes` 컬렉션에서 데이터 `get()`
    - `FlatList`를 사용한 수직 리스트 뷰
    - **리스트 아이템 UI:** 카페 썸네일(하드코딩된 URL), 카페 이름, 지역명(ex. 성수), 평균 평점(계산)
    - **간단한 필터:** '지역' 기준 필터 (ex. "성수", "연남" 선택 버튼)
    - **액션:** 아이템 터치 시 `F-1.2: 카페 상세 스크린`으로 이동 (cafeId 전달)
- [ ]  **F-1.2: 카페 상세 스크린**
    - **상단:** 전달받은 `cafeId`로 카페 정보 표시 (주소, 영업시간 - Firestore에 수동 입력된 값)
    - **하단 (리뷰 리스트):**
        - `Firestore` `reviews` 컬렉션에서 `where("cafeId", "==", cafeId)` 쿼리
        - `FlatList`로 리뷰 목록 렌더링 (최신순 정렬 `orderBy("createdAt", "desc")`)
        - **리뷰 아이템 UI:** 유저 닉네임, 평점(별), '맛 태그'(`basicTags`), '한 줄 코멘트'

### F-2: 리뷰 작성 (Core Feature) ⭐ (가장 중요)

- [ ]  **F-2.1: 진입점 (Entry Point)**
    - 바텀 탭 [리뷰 쓰기] 터치 시 실행
    - **(선택) Step 1:** '카페 선택하기' 화면 (F-1.1과 유사한 리스트, 검색 기능 없음)
- [ ]  **F-2.2: 리뷰 작성 폼 (초급 모드 - Default)**
    - **[필수] 전체 평점:** 5-Star 레이팅 (`react-native-ratings` 등)
    - **[필수] 맛 태그 (다중 선택):** `[#상큼한] [#고소한] [#달콤한] [#묵직한] [#부드러운] [#꽃향기]` (데이터 검증: 최소 1개 선택)
    - **[선택] 한 줄 코멘트:** `TextInput` (최대 100자)
- [ ]  **F-2.3: 리뷰 작성 폼 (고급 모드 - Toggled)**
    - **토글 버튼:** `[+ 상세 리뷰 남기기]` 버튼
    - 터치 시 하단에 확장 영역 표시 (Accordion)
    - **[선택] 산미 (Acidity):** 1-5점 `Slider`
    - **[선택] 바디 (Body):** 1-5점 `Slider`
    - **[선택] 상세 향 (Flavor Notes):** 별도 태그 리스트 (다중 선택) (ex. `#시트러스`, `#초콜릿`, `#견과류`...)
    - **[선택] 로스팅 (Roasting):** 3-Choice Picker [Light], [Medium], [Dark]
- [ ]  **F-2.4: 제출 (Submission)**
    - [작성 완료] 버튼 터치
    - 데이터 검증 (필수 항목 체크)
    - `Firestore` `reviews` 컬렉션에 **1개 문서(Document)로 저장**
        - *저장 데이터:* `userId` (현재 유저), `cafeId`, `rating`, `basicTags` (Array), `comment`, `acidity`, `body`, `advancedTags` (Array), `roasting`, `createdAt` (Timestamp)
    - 성공 시 `F-1.2: 카페 상세` 스크린으로 자동 이동하여 방금 쓴 리뷰 확인
    필요한 이유:
    - "초급/고급 모드"라고만 써있음
    - 실제 구현을 위한 상세 스펙 없음

    내용:
    [초급 모드 - 기본 화면]
    ┌─────────────────────┐
    │ 어떤 커피였나요?      │
    │ ⭐⭐⭐⭐⭐         │
    │                     │
    │ 맛은 어땠나요? (필수) │
    │ [☑️상큼] [☑️꽃향기]  │
    │ [  고소] [  묵직]    │
    │                     │
    │ 한 줄 남기기 (선택)   │
    │ [________________]  │
    │                     │
    │ [+ 상세하게 남기기]  │
    └─────────────────────┘

    [고급 모드 - 확장]
    산미 ━━━━━●━━━ 4/5
    바디 ━●━━━━━━━ 2/5
    ...

    → 개발자가 그대로 구현할 수 있는 스펙

### F-3: 마이페이지 (Retention)

- [ ]  **F-3.1: 상단 (유저 정보)**
    - 유저 닉네임 (소셜 로그인 정보)
    - [로그아웃] 버튼
- [ ]  **F-3.2: 간단한 통계**
    - "총 **[N]**잔의 커피를 마셨어요." (Firestore `reviews` 컬렉션 `count()` 쿼리)
    - "나의 원픽 맛은 **[#Tag]**입니다." (작성한 리뷰들의 `basicTags` 중 가장 많이 사용된 태그 계산)
- [ ]  **F-3.3: 내 리뷰 목록**
    - `Firestore` `reviews` 컬렉션에서 `where("userId", "==", currentUserId)` 쿼리
    - `FlatList`로 내가 쓴 리뷰 리스트 렌더링 (F-1.2 리뷰 아이템 UI 재사용)
    - **(선택) 액션:** 내가 쓴 리뷰 터치 시 수정/삭제 기능 (v0.1에서는 생략 가능, '내 리뷰 목록'까지만 구현)

---

### 2. Out-of-Scope: v0.1 절대 금지 기능 (Parking Lot)

이 기능들은 4주간의 스프린트 중 **절대 구현하지 않습니다.** 아이디어가 떠오르면 '문서 3: 백로그'에 기록합니다.

- **[ ❌ ] 지도 뷰 (Map View):** Naver/Kakao 지도 연동 (Target: `v0.2`)
- **[ ❌ ] 사진 업로드 (Photo Upload):** 카메라/앨범 접근, Storage 업로드 (Target: `v0.2`)
- **[ ❌ ] 검색 기능 (Search):** 카페 이름, 태그, 원두 이름 검색 (Target: `v0.3`)
- **[ ❌ ] 게임화 (Gamification):** 배지, 레벨 시스템 (Target: `v0.3`)
- **[ ❌ ] 소셜 기능 (Social):** 친구, 팔로우, 좋아요 (Target: `v1.0+`)
- **[ ❌ ] AI 추천 (AI Recommendation):** 알고리즘 개발 (Target: `v1.0+`)
- **[ ❌ ] 카페 정보 수정/제안:** 유저가 직접 카페 등록 (Target: `v1.0+`)
    - *v0.1에서는 대표님이 Firebase 콘솔에서 30개 카페 정보를 '수동'으로 입력합니다.*